#Data Calculation Library
import pandas as pd
import numpy as np
from itertools import product

import matplotlib.pyplot as plt
from matplotlib.colors import rgb2hex
import sys
from pathlib import Path

import simplekml



#To read json
from PIL import Image, ImageDraw, ImageFont
import os

if __name__ == '__main__':
    import sys
    sys.path.append(str(Path(__file__).parent.parent))
    from for_pre_processing.input_from_Setting import  Constants_Class_from_Copy_Setting

coordinates_circle = '139.474087,34.658298,0.0 139.474086,34.658440,0.0 139.474085,34.658581,0.0 139.474082,34.658723,0.0 139.474078,34.658865,0.0 139.474074,34.659007,0.0 139.474068,34.659148,0.0 139.474061,34.659290,0.0 139.474053,34.659431,0.0 139.474044,34.659573,0.0 139.474033,34.659714,0.0 139.474022,34.659856,0.0 139.474010,34.659997,0.0 139.473996,34.660139,0.0 139.473982,34.660280,0.0 139.473966,34.660421,0.0 139.473950,34.660562,0.0 139.473932,34.660703,0.0 139.473913,34.660844,0.0 139.473893,34.660985,0.0 139.473872,34.661125,0.0 139.473850,34.661266,0.0 139.473827,34.661406,0.0 139.473803,34.661547,0.0 139.473778,34.661687,0.0 139.473752,34.661827,0.0 139.473724,34.661967,0.0 139.473696,34.662107,0.0 139.473666,34.662246,0.0 139.473636,34.662386,0.0 139.473604,34.662525,0.0 139.473572,34.662664,0.0 139.473538,34.662803,0.0 139.473503,34.662942,0.0 139.473467,34.663081,0.0 139.473430,34.663219,0.0 139.473392,34.663357,0.0 139.473353,34.663495,0.0 139.473313,34.663633,0.0 139.473272,34.663771,0.0 139.473230,34.663908,0.0 139.473187,34.664045,0.0 139.473143,34.664182,0.0 139.473097,34.664319,0.0 139.473051,34.664455,0.0 139.473004,34.664592,0.0 139.472955,34.664728,0.0 139.472906,34.664863,0.0 139.472856,34.664999,0.0 139.472804,34.665134,0.0 139.472752,34.665269,0.0 139.472698,34.665404,0.0 139.472644,34.665538,0.0 139.472588,34.665672,0.0 139.472531,34.665806,0.0 139.472474,34.665939,0.0 139.472415,34.666073,0.0 139.472355,34.666205,0.0 139.472295,34.666338,0.0 139.472233,34.666470,0.0 139.472170,34.666602,0.0 139.472107,34.666734,0.0 139.472042,34.666865,0.0 139.471976,34.666996,0.0 139.471910,34.667127,0.0 139.471842,34.667257,0.0 139.471773,34.667387,0.0 139.471704,34.667516,0.0 139.471633,34.667646,0.0 139.471562,34.667774,0.0 139.471489,34.667903,0.0 139.471415,34.668031,0.0 139.471341,34.668158,0.0 139.471265,34.668286,0.0 139.471189,34.668413,0.0 139.471111,34.668539,0.0 139.471033,34.668665,0.0 139.470954,34.668791,0.0 139.470873,34.668916,0.0 139.470792,34.669041,0.0 139.470710,34.669165,0.0 139.470627,34.669289,0.0 139.470543,34.669413,0.0 139.470458,34.669536,0.0 139.470372,34.669659,0.0 139.470285,34.669781,0.0 139.470197,34.669903,0.0 139.470108,34.670024,0.0 139.470018,34.670145,0.0 139.469928,34.670265,0.0 139.469836,34.670385,0.0 139.469744,34.670504,0.0 139.469651,34.670623,0.0 139.469556,34.670742,0.0 139.469461,34.670860,0.0 139.469365,34.670977,0.0 139.469268,34.671094,0.0 139.469170,34.671210,0.0 139.469072,34.671326,0.0 139.468972,34.671442,0.0 139.468872,34.671557,0.0 139.468770,34.671671,0.0 139.468668,34.671785,0.0 139.468565,34.671898,0.0 139.468461,34.672011,0.0 139.468356,34.672123,0.0 139.468251,34.672235,0.0 139.468144,34.672346,0.0 139.468037,34.672457,0.0 139.467929,34.672567,0.0 139.467820,34.672676,0.0 139.467710,34.672785,0.0 139.467599,34.672893,0.0 139.467488,34.673001,0.0 139.467375,34.673108,0.0 139.467262,34.673215,0.0 139.467148,34.673321,0.0 139.467034,34.673426,0.0 139.466918,34.673531,0.0 139.466802,34.673635,0.0 139.466685,34.673739,0.0 139.466567,34.673842,0.0 139.466448,34.673944,0.0 139.466329,34.674046,0.0 139.466208,34.674147,0.0 139.466087,34.674247,0.0 139.465966,34.674347,0.0 139.465843,34.674446,0.0 139.465720,34.674545,0.0 139.465596,34.674643,0.0 139.465471,34.674740,0.0 139.465346,34.674837,0.0 139.465219,34.674933,0.0 139.465092,34.675028,0.0 139.464965,34.675123,0.0 139.464836,34.675217,0.0 139.464707,34.675310,0.0 139.464577,34.675403,0.0 139.464447,34.675495,0.0 139.464315,34.675586,0.0 139.464184,34.675677,0.0 139.464051,34.675766,0.0 139.463918,34.675856,0.0 139.463784,34.675944,0.0 139.463649,34.676032,0.0 139.463514,34.676119,0.0 139.463378,34.676206,0.0 139.463241,34.676291,0.0 139.463104,34.676376,0.0 139.462966,34.676461,0.0 139.462827,34.676544,0.0 139.462688,34.676627,0.0 139.462548,34.676709,0.0 139.462408,34.676791,0.0 139.462267,34.676871,0.0 139.462125,34.676951,0.0 139.461983,34.677031,0.0 139.461840,34.677109,0.0 139.461696,34.677187,0.0 139.461552,34.677264,0.0 139.461408,34.677340,0.0 139.461262,34.677415,0.0 139.461117,34.677490,0.0 139.460970,34.677564,0.0 139.460823,34.677637,0.0 139.460676,34.677710,0.0 139.460528,34.677781,0.0 139.460379,34.677852,0.0 139.460230,34.677922,0.0 139.460081,34.677992,0.0 139.459930,34.678060,0.0 139.459780,34.678128,0.0 139.459628,34.678195,0.0 139.459477,34.678261,0.0 139.459325,34.678327,0.0 139.459172,34.678391,0.0 139.459019,34.678455,0.0 139.458865,34.678518,0.0 139.458711,34.678580,0.0 139.458556,34.678642,0.0 139.458401,34.678702,0.0 139.458246,34.678762,0.0 139.458090,34.678821,0.0 139.457933,34.678879,0.0 139.457776,34.678937,0.0 139.457619,34.678993,0.0 139.457461,34.679049,0.0 139.457303,34.679104,0.0 139.457144,34.679158,0.0 139.456985,34.679211,0.0 139.456826,34.679264,0.0 139.456666,34.679315,0.0 139.456506,34.679366,0.0 139.456345,34.679416,0.0 139.456185,34.679465,0.0 139.456023,34.679514,0.0 139.455862,34.679561,0.0 139.455700,34.679608,0.0 139.455537,34.679653,0.0 139.455374,34.679698,0.0 139.455211,34.679742,0.0 139.455048,34.679786,0.0 139.454884,34.679828,0.0 139.454720,34.679869,0.0 139.454556,34.679910,0.0 139.454391,34.679950,0.0 139.454226,34.679989,0.0 139.454061,34.680027,0.0 139.453895,34.680064,0.0 139.453729,34.680100,0.0 139.453563,34.680136,0.0 139.453397,34.680171,0.0 139.453230,34.680204,0.0 139.453063,34.680237,0.0 139.452896,34.680269,0.0 139.452729,34.680301,0.0 139.452561,34.680331,0.0 139.452394,34.680360,0.0 139.452225,34.680389,0.0 139.452057,34.680417,0.0 139.451889,34.680443,0.0 139.451720,34.680469,0.0 139.451551,34.680494,0.0 139.451382,34.680519,0.0 139.451213,34.680542,0.0 139.451043,34.680564,0.0 139.450874,34.680586,0.0 139.450704,34.680606,0.0 139.450534,34.680626,0.0 139.450364,34.680645,0.0 139.450194,34.680663,0.0 139.450024,34.680680,0.0 139.449853,34.680696,0.0 139.449683,34.680712,0.0 139.449512,34.680726,0.0 139.449341,34.680740,0.0 139.449170,34.680753,0.0 139.448999,34.680764,0.0 139.448828,34.680775,0.0 139.448657,34.680785,0.0 139.448486,34.680794,0.0 139.448315,34.680803,0.0 139.448143,34.680810,0.0 139.447972,34.680817,0.0 139.447800,34.680822,0.0 139.447629,34.680827,0.0 139.447457,34.680831,0.0 139.447286,34.680833,0.0 139.447114,34.680835,0.0 139.446943,34.680837,0.0 139.446771,34.680837,0.0 139.446600,34.680836,0.0 139.446428,34.680835,0.0 139.446256,34.680832,0.0 139.446085,34.680829,0.0 139.445913,34.680825,0.0 139.445742,34.680819,0.0 139.445570,34.680813,0.0 139.445399,34.680806,0.0 139.445228,34.680799,0.0 139.445057,34.680790,0.0 139.444885,34.680780,0.0 139.444714,34.680770,0.0 139.444543,34.680759,0.0 139.444372,34.680746,0.0 139.444201,34.680733,0.0 139.444031,34.680719,0.0 139.443860,34.680704,0.0 139.443690,34.680688,0.0 139.443519,34.680672,0.0 139.443349,34.680654,0.0 139.443179,34.680636,0.0 139.443009,34.680616,0.0 139.442839,34.680596,0.0 139.442669,34.680575,0.0 139.442500,34.680553,0.0 139.442331,34.680530,0.0 139.442161,34.680507,0.0 139.441992,34.680482,0.0 139.441824,34.680456,0.0 139.441655,34.680430,0.0 139.441487,34.680403,0.0 139.441318,34.680375,0.0 139.441151,34.680346,0.0 139.440983,34.680316,0.0 139.440815,34.680285,0.0 139.440648,34.680253,0.0 139.440481,34.680221,0.0 139.440314,34.680188,0.0 139.440148,34.680153,0.0 139.439982,34.680118,0.0 139.439816,34.680082,0.0 139.439650,34.680046,0.0 139.439484,34.680008,0.0 139.439319,34.679969,0.0 139.439155,34.679930,0.0 139.438990,34.679890,0.0 139.438826,34.679849,0.0 139.438662,34.679807,0.0 139.438498,34.679764,0.0 139.438335,34.679720,0.0 139.438172,34.679676,0.0 139.438010,34.679631,0.0 139.437847,34.679584,0.0 139.437686,34.679537,0.0 139.437524,34.679489,0.0 139.437363,34.679441,0.0 139.437202,34.679391,0.0 139.437042,34.679341,0.0 139.436882,34.679290,0.0 139.436722,34.679238,0.0 139.436563,34.679185,0.0 139.436404,34.679131,0.0 139.436246,34.679077,0.0 139.436088,34.679021,0.0 139.435930,34.678965,0.0 139.435773,34.678908,0.0 139.435617,34.678850,0.0 139.435460,34.678792,0.0 139.435305,34.678732,0.0 139.435149,34.678672,0.0 139.434994,34.678611,0.0 139.434840,34.678549,0.0 139.434686,34.678487,0.0 139.434533,34.678423,0.0 139.434380,34.678359,0.0 139.434227,34.678294,0.0 139.434075,34.678228,0.0 139.433924,34.678162,0.0 139.433773,34.678094,0.0 139.433622,34.678026,0.0 139.433473,34.677957,0.0 139.433323,34.677887,0.0 139.433174,34.677817,0.0 139.433026,34.677746,0.0 139.432878,34.677674,0.0 139.432731,34.677601,0.0 139.432584,34.677527,0.0 139.432438,34.677453,0.0 139.432293,34.677378,0.0 139.432148,34.677302,0.0 139.432004,34.677225,0.0 139.431860,34.677148,0.0 139.431717,34.677070,0.0 139.431574,34.676991,0.0 139.431432,34.676911,0.0 139.431291,34.676831,0.0 139.431150,34.676750,0.0 139.431010,34.676668,0.0 139.430870,34.676586,0.0 139.430731,34.676503,0.0 139.430593,34.676419,0.0 139.430455,34.676334,0.0 139.430319,34.676249,0.0 139.430182,34.676163,0.0 139.430047,34.676076,0.0 139.429912,34.675988,0.0 139.429777,34.675900,0.0 139.429644,34.675811,0.0 139.429511,34.675722,0.0 139.429378,34.675631,0.0 139.429247,34.675540,0.0 139.429116,34.675449,0.0 139.428986,34.675356,0.0 139.428856,34.675263,0.0 139.428728,34.675170,0.0 139.428599,34.675075,0.0 139.428472,34.674980,0.0 139.428346,34.674885,0.0 139.428220,34.674788,0.0 139.428095,34.674692,0.0 139.427970,34.674594,0.0 139.427846,34.674496,0.0 139.427724,34.674397,0.0 139.427601,34.674297,0.0 139.427480,34.674197,0.0 139.427359,34.674096,0.0 139.427240,34.673995,0.0 139.427120,34.673893,0.0 139.427002,34.673790,0.0 139.426885,34.673687,0.0 139.426768,34.673583,0.0 139.426652,34.673479,0.0 139.426537,34.673373,0.0 139.426423,34.673268,0.0 139.426309,34.673162,0.0 139.426196,34.673055,0.0 139.426084,34.672947,0.0 139.425973,34.672839,0.0 139.425863,34.672731,0.0 139.425754,34.672621,0.0 139.425645,34.672512,0.0 139.425537,34.672401,0.0 139.425430,34.672291,0.0 139.425324,34.672179,0.0 139.425219,34.672067,0.0 139.425115,34.671955,0.0 139.425011,34.671842,0.0 139.424909,34.671728,0.0 139.424807,34.671614,0.0 139.424706,34.671499,0.0 139.424606,34.671384,0.0 139.424507,34.671268,0.0 139.424409,34.671152,0.0 139.424311,34.671036,0.0 139.424215,34.670918,0.0 139.424119,34.670801,0.0 139.424024,34.670683,0.0 139.423931,34.670564,0.0 139.423838,34.670445,0.0 139.423746,34.670325,0.0 139.423655,34.670205,0.0 139.423565,34.670084,0.0 139.423475,34.669963,0.0 139.423387,34.669842,0.0 139.423300,34.669720,0.0 139.423213,34.669597,0.0 139.423128,34.669474,0.0 139.423043,34.669351,0.0 139.422960,34.669227,0.0 139.422877,34.669103,0.0 139.422795,34.668979,0.0 139.422714,34.668854,0.0 139.422634,34.668728,0.0 139.422556,34.668602,0.0 139.422478,34.668476,0.0 139.422401,34.668349,0.0 139.422325,34.668222,0.0 139.422250,34.668095,0.0 139.422176,34.667967,0.0 139.422103,34.667839,0.0 139.422030,34.667710,0.0 139.421959,34.667581,0.0 139.421889,34.667452,0.0 139.421820,34.667322,0.0 139.421752,34.667192,0.0 139.421685,34.667061,0.0 139.421619,34.666931,0.0 139.421553,34.666800,0.0 139.421489,34.666668,0.0 139.421426,34.666536,0.0 139.421364,34.666404,0.0 139.421303,34.666272,0.0 139.421243,34.666139,0.0 139.421183,34.666006,0.0 139.421125,34.665873,0.0 139.421068,34.665739,0.0 139.421012,34.665605,0.0 139.420957,34.665471,0.0 139.420903,34.665336,0.0 139.420850,34.665202,0.0 139.420798,34.665066,0.0 139.420747,34.664931,0.0 139.420697,34.664795,0.0 139.420648,34.664660,0.0 139.420600,34.664524,0.0 139.420554,34.664387,0.0 139.420508,34.664251,0.0 139.420463,34.664114,0.0 139.420419,34.663977,0.0 139.420377,34.663839,0.0 139.420335,34.663702,0.0 139.420294,34.663564,0.0 139.420255,34.663426,0.0 139.420216,34.663288,0.0 139.420179,34.663150,0.0 139.420143,34.663011,0.0 139.420107,34.662873,0.0 139.420073,34.662734,0.0 139.420040,34.662595,0.0 139.420008,34.662455,0.0 139.419977,34.662316,0.0 139.419947,34.662176,0.0 139.419918,34.662037,0.0 139.419890,34.661897,0.0 139.419863,34.661757,0.0 139.419837,34.661617,0.0 139.419813,34.661476,0.0 139.419789,34.661336,0.0 139.419767,34.661196,0.0 139.419745,34.661055,0.0 139.419725,34.660914,0.0 139.419705,34.660773,0.0 139.419687,34.660632,0.0 139.419670,34.660491,0.0 139.419654,34.660350,0.0 139.419639,34.660209,0.0 139.419625,34.660068,0.0 139.419612,34.659927,0.0 139.419600,34.659785,0.0 139.419589,34.659644,0.0 139.419580,34.659502,0.0 139.419571,34.659361,0.0 139.419564,34.659219,0.0 139.419557,34.659077,0.0 139.419552,34.658936,0.0 139.419548,34.658794,0.0 139.419544,34.658652,0.0 139.419542,34.658511,0.0 139.419541,34.658369,0.0 139.419541,34.658227,0.0 139.419542,34.658085,0.0 139.419545,34.657944,0.0 139.419548,34.657802,0.0 139.419552,34.657660,0.0 139.419558,34.657519,0.0 139.419564,34.657377,0.0 139.419572,34.657235,0.0 139.419580,34.657094,0.0 139.419590,34.656952,0.0 139.419601,34.656811,0.0 139.419613,34.656669,0.0 139.419626,34.656528,0.0 139.419640,34.656387,0.0 139.419655,34.656246,0.0 139.419671,34.656105,0.0 139.419689,34.655963,0.0 139.419707,34.655823,0.0 139.419726,34.655682,0.0 139.419747,34.655541,0.0 139.419768,34.655400,0.0 139.419791,34.655260,0.0 139.419815,34.655120,0.0 139.419840,34.654979,0.0 139.419865,34.654839,0.0 139.419892,34.654699,0.0 139.419920,34.654559,0.0 139.419949,34.654420,0.0 139.419979,34.654280,0.0 139.420011,34.654141,0.0 139.420043,34.654001,0.0 139.420076,34.653862,0.0 139.420110,34.653724,0.0 139.420146,34.653585,0.0 139.420182,34.653446,0.0 139.420220,34.653308,0.0 139.420258,34.653170,0.0 139.420298,34.653032,0.0 139.420338,34.652894,0.0 139.420380,34.652757,0.0 139.420423,34.652620,0.0 139.420467,34.652483,0.0 139.420512,34.652346,0.0 139.420557,34.652209,0.0 139.420604,34.652073,0.0 139.420652,34.651937,0.0 139.420701,34.651801,0.0 139.420751,34.651665,0.0 139.420802,34.651530,0.0 139.420854,34.651395,0.0 139.420907,34.651260,0.0 139.420962,34.651126,0.0 139.421017,34.650991,0.0 139.421073,34.650858,0.0 139.421130,34.650724,0.0 139.421188,34.650591,0.0 139.421247,34.650458,0.0 139.421308,34.650325,0.0 139.421369,34.650192,0.0 139.421431,34.650060,0.0 139.421494,34.649929,0.0 139.421559,34.649797,0.0 139.421624,34.649666,0.0 139.421690,34.649535,0.0 139.421757,34.649405,0.0 139.421826,34.649275,0.0 139.421895,34.649145,0.0 139.421965,34.649016,0.0 139.422036,34.648887,0.0 139.422108,34.648758,0.0 139.422181,34.648630,0.0 139.422255,34.648502,0.0 139.422331,34.648375,0.0 139.422407,34.648248,0.0 139.422484,34.648121,0.0 139.422562,34.647995,0.0 139.422641,34.647869,0.0 139.422720,34.647744,0.0 139.422801,34.647619,0.0 139.422883,34.647494,0.0 139.422966,34.647370,0.0 139.423049,34.647246,0.0 139.423134,34.647123,0.0 139.423220,34.647000,0.0 139.423306,34.646878,0.0 139.423394,34.646756,0.0 139.423482,34.646634,0.0 139.423571,34.646513,0.0 139.423661,34.646393,0.0 139.423752,34.646273,0.0 139.423844,34.646153,0.0 139.423937,34.646034,0.0 139.424031,34.645915,0.0 139.424126,34.645797,0.0 139.424222,34.645679,0.0 139.424318,34.645562,0.0 139.424415,34.645446,0.0 139.424514,34.645329,0.0 139.424613,34.645214,0.0 139.424713,34.645099,0.0 139.424814,34.644984,0.0 139.424916,34.644870,0.0 139.425018,34.644756,0.0 139.425122,34.644643,0.0 139.425226,34.644531,0.0 139.425332,34.644419,0.0 139.425438,34.644308,0.0 139.425545,34.644197,0.0 139.425652,34.644087,0.0 139.425761,34.643977,0.0 139.425870,34.643868,0.0 139.425981,34.643759,0.0 139.426092,34.643651,0.0 139.426204,34.643544,0.0 139.426316,34.643437,0.0 139.426430,34.643331,0.0 139.426544,34.643225,0.0 139.426659,34.643120,0.0 139.426775,34.643016,0.0 139.426892,34.642912,0.0 139.427010,34.642809,0.0 139.427128,34.642706,0.0 139.427247,34.642604,0.0 139.427367,34.642503,0.0 139.427487,34.642402,0.0 139.427609,34.642302,0.0 139.427731,34.642202,0.0 139.427854,34.642103,0.0 139.427977,34.642005,0.0 139.428102,34.641908,0.0 139.428227,34.641811,0.0 139.428353,34.641714,0.0 139.428479,34.641619,0.0 139.428607,34.641524,0.0 139.428735,34.641429,0.0 139.428864,34.641336,0.0 139.428993,34.641243,0.0 139.429123,34.641151,0.0 139.429254,34.641059,0.0 139.429386,34.640968,0.0 139.429518,34.640878,0.0 139.429651,34.640788,0.0 139.429784,34.640699,0.0 139.429919,34.640611,0.0 139.430054,34.640524,0.0 139.430189,34.640437,0.0 139.430326,34.640351,0.0 139.430463,34.640266,0.0 139.430600,34.640181,0.0 139.430738,34.640097,0.0 139.430877,34.640014,0.0 139.431017,34.639932,0.0 139.431157,34.639850,0.0 139.431298,34.639769,0.0 139.431439,34.639689,0.0 139.431581,34.639609,0.0 139.431723,34.639530,0.0 139.431867,34.639452,0.0 139.432010,34.639375,0.0 139.432155,34.639298,0.0 139.432299,34.639222,0.0 139.432445,34.639147,0.0 139.432591,34.639073,0.0 139.432738,34.639000,0.0 139.432885,34.638927,0.0 139.433032,34.638855,0.0 139.433181,34.638784,0.0 139.433330,34.638713,0.0 139.433479,34.638643,0.0 139.433629,34.638575,0.0 139.433779,34.638506,0.0 139.433930,34.638439,0.0 139.434081,34.638372,0.0 139.434233,34.638307,0.0 139.434386,34.638242,0.0 139.434539,34.638178,0.0 139.434692,34.638114,0.0 139.434846,34.638052,0.0 139.435000,34.637990,0.0 139.435155,34.637929,0.0 139.435310,34.637869,0.0 139.435466,34.637809,0.0 139.435622,34.637751,0.0 139.435779,34.637693,0.0 139.435936,34.637636,0.0 139.436093,34.637580,0.0 139.436251,34.637524,0.0 139.436409,34.637470,0.0 139.436568,34.637416,0.0 139.436727,34.637363,0.0 139.436887,34.637311,0.0 139.437047,34.637260,0.0 139.437207,34.637210,0.0 139.437368,34.637160,0.0 139.437529,34.637112,0.0 139.437690,34.637064,0.0 139.437852,34.637017,0.0 139.438014,34.636971,0.0 139.438177,34.636925,0.0 139.438339,34.636881,0.0 139.438503,34.636837,0.0 139.438666,34.636795,0.0 139.438830,34.636753,0.0 139.438994,34.636712,0.0 139.439159,34.636671,0.0 139.439323,34.636632,0.0 139.439488,34.636594,0.0 139.439654,34.636556,0.0 139.439819,34.636519,0.0 139.439985,34.636483,0.0 139.440151,34.636448,0.0 139.440318,34.636414,0.0 139.440484,34.636381,0.0 139.440651,34.636348,0.0 139.440818,34.636317,0.0 139.440986,34.636286,0.0 139.441154,34.636256,0.0 139.441321,34.636227,0.0 139.441489,34.636199,0.0 139.441658,34.636172,0.0 139.441826,34.636145,0.0 139.441995,34.636120,0.0 139.442164,34.636095,0.0 139.442333,34.636071,0.0 139.442502,34.636049,0.0 139.442672,34.636027,0.0 139.442841,34.636006,0.0 139.443011,34.635985,0.0 139.443181,34.635966,0.0 139.443351,34.635948,0.0 139.443521,34.635930,0.0 139.443691,34.635913,0.0 139.443862,34.635898,0.0 139.444032,34.635883,0.0 139.444203,34.635869,0.0 139.444374,34.635856,0.0 139.444544,34.635843,0.0 139.444715,34.635832,0.0 139.444886,34.635821,0.0 139.445057,34.635812,0.0 139.445229,34.635803,0.0 139.445400,34.635795,0.0 139.445571,34.635789,0.0 139.445742,34.635783,0.0 139.445914,34.635777,0.0 139.446085,34.635773,0.0 139.446257,34.635770,0.0 139.446428,34.635767,0.0 139.446600,34.635766,0.0 139.446771,34.635765,0.0 139.446943,34.635765,0.0 139.447114,34.635766,0.0 139.447286,34.635768,0.0 139.447457,34.635771,0.0 139.447628,34.635775,0.0 139.447800,34.635780,0.0 139.447971,34.635785,0.0 139.448142,34.635792,0.0 139.448314,34.635799,0.0 139.448485,34.635807,0.0 139.448656,34.635817,0.0 139.448827,34.635827,0.0 139.448998,34.635838,0.0 139.449169,34.635849,0.0 139.449340,34.635862,0.0 139.449510,34.635876,0.0 139.449681,34.635890,0.0 139.449852,34.635905,0.0 139.450022,34.635922,0.0 139.450192,34.635939,0.0 139.450362,34.635957,0.0 139.450532,34.635976,0.0 139.450702,34.635995,0.0 139.450872,34.636016,0.0 139.451041,34.636038,0.0 139.451210,34.636060,0.0 139.451380,34.636083,0.0 139.451549,34.636107,0.0 139.451717,34.636132,0.0 139.451886,34.636158,0.0 139.452054,34.636185,0.0 139.452223,34.636213,0.0 139.452391,34.636241,0.0 139.452558,34.636271,0.0 139.452726,34.636301,0.0 139.452893,34.636332,0.0 139.453060,34.636364,0.0 139.453227,34.636397,0.0 139.453394,34.636431,0.0 139.453560,34.636466,0.0 139.453726,34.636501,0.0 139.453892,34.636537,0.0 139.454057,34.636575,0.0 139.454222,34.636613,0.0 139.454387,34.636652,0.0 139.454552,34.636691,0.0 139.454716,34.636732,0.0 139.454880,34.636774,0.0 139.455044,34.636816,0.0 139.455207,34.636859,0.0 139.455370,34.636903,0.0 139.455533,34.636948,0.0 139.455695,34.636994,0.0 139.455857,34.637040,0.0 139.456019,34.637088,0.0 139.456180,34.637136,0.0 139.456341,34.637185,0.0 139.456501,34.637235,0.0 139.456661,34.637286,0.0 139.456821,34.637337,0.0 139.456980,34.637390,0.0 139.457139,34.637443,0.0 139.457298,34.637497,0.0 139.457456,34.637552,0.0 139.457614,34.637608,0.0 139.457771,34.637664,0.0 139.457928,34.637722,0.0 139.458084,34.637780,0.0 139.458240,34.637839,0.0 139.458395,34.637899,0.0 139.458550,34.637959,0.0 139.458705,34.638021,0.0 139.458859,34.638083,0.0 139.459013,34.638146,0.0 139.459166,34.638209,0.0 139.459319,34.638274,0.0 139.459471,34.638339,0.0 139.459622,34.638406,0.0 139.459774,34.638473,0.0 139.459924,34.638540,0.0 139.460074,34.638609,0.0 139.460224,34.638678,0.0 139.460373,34.638748,0.0 139.460521,34.638819,0.0 139.460669,34.638891,0.0 139.460817,34.638963,0.0 139.460964,34.639036,0.0 139.461110,34.639110,0.0 139.461256,34.639185,0.0 139.461401,34.639260,0.0 139.461546,34.639336,0.0 139.461690,34.639413,0.0 139.461833,34.639491,0.0 139.461976,34.639570,0.0 139.462118,34.639649,0.0 139.462260,34.639729,0.0 139.462401,34.639809,0.0 139.462541,34.639891,0.0 139.462681,34.639973,0.0 139.462820,34.640056,0.0 139.462959,34.640139,0.0 139.463097,34.640223,0.0 139.463234,34.640308,0.0 139.463371,34.640394,0.0 139.463507,34.640480,0.0 139.463642,34.640568,0.0 139.463776,34.640655,0.0 139.463910,34.640744,0.0 139.464044,34.640833,0.0 139.464176,34.640923,0.0 139.464308,34.641013,0.0 139.464439,34.641105,0.0 139.464570,34.641197,0.0 139.464700,34.641289,0.0 139.464829,34.641383,0.0 139.464957,34.641477,0.0 139.465085,34.641571,0.0 139.465212,34.641666,0.0 139.465338,34.641762,0.0 139.465464,34.641859,0.0 139.465588,34.641956,0.0 139.465712,34.642054,0.0 139.465836,34.642153,0.0 139.465958,34.642252,0.0 139.466080,34.642352,0.0 139.466201,34.642452,0.0 139.466321,34.642553,0.0 139.466441,34.642655,0.0 139.466559,34.642757,0.0 139.466677,34.642860,0.0 139.466794,34.642964,0.0 139.466911,34.643068,0.0 139.467026,34.643173,0.0 139.467141,34.643278,0.0 139.467255,34.643384,0.0 139.467368,34.643490,0.0 139.467480,34.643597,0.0 139.467592,34.643705,0.0 139.467703,34.643813,0.0 139.467812,34.643922,0.0 139.467922,34.644032,0.0 139.468030,34.644142,0.0 139.468137,34.644252,0.0 139.468244,34.644363,0.0 139.468349,34.644475,0.0 139.468454,34.644587,0.0 139.468558,34.644700,0.0 139.468661,34.644813,0.0 139.468763,34.644927,0.0 139.468865,34.645041,0.0 139.468965,34.645156,0.0 139.469065,34.645272,0.0 139.469163,34.645387,0.0 139.469261,34.645504,0.0 139.469358,34.645621,0.0 139.469454,34.645738,0.0 139.469550,34.645856,0.0 139.469644,34.645974,0.0 139.469737,34.646093,0.0 139.469830,34.646213,0.0 139.469921,34.646333,0.0 139.470012,34.646453,0.0 139.470102,34.646574,0.0 139.470190,34.646695,0.0 139.470278,34.646817,0.0 139.470365,34.646939,0.0 139.470451,34.647061,0.0 139.470536,34.647185,0.0 139.470620,34.647308,0.0 139.470704,34.647432,0.0 139.470786,34.647556,0.0 139.470867,34.647681,0.0 139.470948,34.647806,0.0 139.471027,34.647932,0.0 139.471106,34.648058,0.0 139.471183,34.648184,0.0 139.471260,34.648311,0.0 139.471335,34.648439,0.0 139.471410,34.648566,0.0 139.471483,34.648694,0.0 139.471556,34.648823,0.0 139.471628,34.648951,0.0 139.471698,34.649081,0.0 139.471768,34.649210,0.0 139.471837,34.649340,0.0 139.471904,34.649470,0.0 139.471971,34.649601,0.0 139.472037,34.649732,0.0 139.472102,34.649863,0.0 139.472165,34.649994,0.0 139.472228,34.650126,0.0 139.472290,34.650259,0.0 139.472351,34.650391,0.0 139.472410,34.650524,0.0 139.472469,34.650657,0.0 139.472527,34.650791,0.0 139.472583,34.650924,0.0 139.472639,34.651059,0.0 139.472694,34.651193,0.0 139.472747,34.651328,0.0 139.472800,34.651462,0.0 139.472851,34.651598,0.0 139.472902,34.651733,0.0 139.472951,34.651869,0.0 139.473000,34.652005,0.0 139.473047,34.652141,0.0 139.473094,34.652277,0.0 139.473139,34.652414,0.0 139.473183,34.652551,0.0 139.473227,34.652688,0.0 139.473269,34.652826,0.0 139.473310,34.652963,0.0 139.473350,34.653101,0.0 139.473389,34.653239,0.0 139.473427,34.653377,0.0 139.473464,34.653516,0.0 139.473500,34.653654,0.0 139.473535,34.653793,0.0 139.473569,34.653932,0.0 139.473602,34.654071,0.0 139.473633,34.654210,0.0 139.473664,34.654350,0.0 139.473693,34.654489,0.0 139.473722,34.654629,0.0 139.473749,34.654769,0.0 139.473776,34.654909,0.0 139.473801,34.655049,0.0 139.473825,34.655190,0.0 139.473848,34.655330,0.0 139.473871,34.655471,0.0 139.473892,34.655611,0.0 139.473911,34.655752,0.0 139.473930,34.655893,0.0 139.473948,34.656034,0.0 139.473965,34.656175,0.0 139.473981,34.656316,0.0 139.473995,34.656457,0.0 139.474009,34.656599,0.0 139.474021,34.656740,0.0 139.474033,34.656882,0.0 139.474043,34.657023,0.0 139.474052,34.657165,0.0 139.474060,34.657306,0.0 139.474067,34.657448,0.0 139.474073,34.657589,0.0 139.474078,34.657731,0.0 139.474082,34.657873,0.0 139.474085,34.658014,0.0 139.474086,34.658156,0.0 139.474087,34.658298,0.0'

coordinates_safety_area = '139.474087,34.658298,0.0 139.474086,34.658440,0.0 139.474085,34.658581,0.0 139.474082,34.658723,0.0 139.474078,34.658865,0.0 139.474074,34.659007,0.0 139.474068,34.659148,0.0 139.474061,34.659290,0.0 139.474053,34.659431,0.0 139.474044,34.659573,0.0 139.474033,34.659714,0.0 139.474022,34.659856,0.0 139.474010,34.659997,0.0 139.473996,34.660139,0.0 139.473982,34.660280,0.0 139.473966,34.660421,0.0 139.473950,34.660562,0.0 139.473932,34.660703,0.0 139.473913,34.660844,0.0 139.473893,34.660985,0.0 139.473872,34.661125,0.0 139.473850,34.661266,0.0 139.473827,34.661406,0.0 139.473803,34.661547,0.0 139.473778,34.661687,0.0 139.473752,34.661827,0.0 139.473724,34.661967,0.0 139.473696,34.662107,0.0 139.473666,34.662246,0.0 139.473636,34.662386,0.0 139.473604,34.662525,0.0 139.473572,34.662664,0.0 139.473538,34.662803,0.0 139.473503,34.662942,0.0 139.473467,34.663081,0.0 139.473430,34.663219,0.0 139.473392,34.663357,0.0 139.473353,34.663495,0.0 139.473313,34.663633,0.0 139.473272,34.663771,0.0 139.473230,34.663908,0.0 139.473187,34.664045,0.0 139.473143,34.664182,0.0 139.473097,34.664319,0.0 139.473051,34.664455,0.0 139.473004,34.664592,0.0 139.472955,34.664728,0.0 139.472906,34.664863,0.0 139.472856,34.664999,0.0 139.472804,34.665134,0.0 139.472752,34.665269,0.0 139.472698,34.665404,0.0 139.472644,34.665538,0.0 139.472588,34.665672,0.0 139.472531,34.665806,0.0 139.472474,34.665939,0.0 139.472415,34.666073,0.0 139.472355,34.666205,0.0 139.472295,34.666338,0.0 139.472233,34.666470,0.0 139.472170,34.666602,0.0 139.472107,34.666734,0.0 139.472042,34.666865,0.0 139.471976,34.666996,0.0 139.471910,34.667127,0.0 139.471842,34.667257,0.0 139.471773,34.667387,0.0 139.471704,34.667516,0.0 139.471633,34.667646,0.0 139.471562,34.667774,0.0 139.471489,34.667903,0.0 139.471415,34.668031,0.0 139.471341,34.668158,0.0 139.471265,34.668286,0.0 139.471189,34.668413,0.0 139.471111,34.668539,0.0 139.471033,34.668665,0.0 139.470954,34.668791,0.0 139.470873,34.668916,0.0 139.470792,34.669041,0.0 139.470710,34.669165,0.0 139.470627,34.669289,0.0 139.470543,34.669413,0.0 139.470458,34.669536,0.0 139.470372,34.669659,0.0 139.470285,34.669781,0.0 139.470197,34.669903,0.0 139.470108,34.670024,0.0 139.470018,34.670145,0.0 139.469928,34.670265,0.0 139.469836,34.670385,0.0 139.469744,34.670504,0.0 139.469651,34.670623,0.0 139.469556,34.670742,0.0 139.469461,34.670860,0.0 139.469365,34.670977,0.0 139.469268,34.671094,0.0 139.469170,34.671210,0.0 139.469072,34.671326,0.0 139.468972,34.671442,0.0 139.468872,34.671557,0.0 139.468770,34.671671,0.0 139.468668,34.671785,0.0 139.468565,34.671898,0.0 139.468461,34.672011,0.0 139.468356,34.672123,0.0 139.468251,34.672235,0.0 139.468144,34.672346,0.0 139.468037,34.672457,0.0 139.467929,34.672567,0.0 139.467820,34.672676,0.0 139.467710,34.672785,0.0 139.467599,34.672893,0.0 139.467488,34.673001,0.0 139.467375,34.673108,0.0 139.467262,34.673215,0.0 139.467148,34.673321,0.0 139.467034,34.673426,0.0 139.466918,34.673531,0.0 139.466802,34.673635,0.0 139.466685,34.673739,0.0 139.466567,34.673842,0.0 139.466448,34.673944,0.0 139.466329,34.674046,0.0 139.466208,34.674147,0.0 139.466087,34.674247,0.0 139.465966,34.674347,0.0 139.465843,34.674446,0.0 139.465720,34.674545,0.0 139.465596,34.674643,0.0 139.465471,34.674740,0.0 139.465346,34.674837,0.0 139.465219,34.674933,0.0 139.465092,34.675028,0.0 139.464965,34.675123,0.0 139.464836,34.675217,0.0 139.464707,34.675310,0.0 139.464577,34.675403,0.0 139.464447,34.675495,0.0 139.464315,34.675586,0.0 139.464184,34.675677,0.0 139.464051,34.675766,0.0 139.463918,34.675856,0.0 139.463784,34.675944,0.0 139.463649,34.676032,0.0 139.463514,34.676119,0.0 139.463378,34.676206,0.0 139.463241,34.676291,0.0 139.463104,34.676376,0.0 139.462966,34.676461,0.0 139.462827,34.676544,0.0 139.462688,34.676627,0.0 139.462548,34.676709,0.0 139.462408,34.676791,0.0 139.462267,34.676871,0.0 139.462125,34.676951,0.0 139.461983,34.677031,0.0 139.461840,34.677109,0.0 139.461696,34.677187,0.0 139.461552,34.677264,0.0 139.461408,34.677340,0.0 139.461262,34.677415,0.0 139.461117,34.677490,0.0 139.460970,34.677564,0.0 139.460823,34.677637,0.0 139.460676,34.677710,0.0 139.460528,34.677781,0.0 139.460379,34.677852,0.0 139.460230,34.677922,0.0 139.460081,34.677992,0.0 139.459930,34.678060,0.0 139.459780,34.678128,0.0 139.459628,34.678195,0.0 139.459477,34.678261,0.0 139.459325,34.678327,0.0 139.459172,34.678391,0.0 139.459019,34.678455,0.0 139.458865,34.678518,0.0 139.458711,34.678580,0.0 139.458556,34.678642,0.0 139.458401,34.678702,0.0 139.458246,34.678762,0.0 139.458090,34.678821,0.0 139.457933,34.678879,0.0 139.457776,34.678937,0.0 139.457619,34.678993,0.0 139.457461,34.679049,0.0 139.457303,34.679104,0.0 139.457144,34.679158,0.0 139.456985,34.679211,0.0 139.456826,34.679264,0.0 139.456666,34.679315,0.0 139.456506,34.679366,0.0 139.456345,34.679416,0.0 139.456185,34.679465,0.0 139.456023,34.679514,0.0 139.455862,34.679561,0.0 139.455700,34.679608,0.0 139.455537,34.679653,0.0 139.455374,34.679698,0.0 139.455211,34.679742,0.0 139.455048,34.679786,0.0 139.454884,34.679828,0.0 139.454720,34.679869,0.0 139.454556,34.679910,0.0 139.454391,34.679950,0.0 139.454226,34.679989,0.0 139.454061,34.680027,0.0 139.453895,34.680064,0.0 139.453729,34.680100,0.0 139.453563,34.680136,0.0 139.453397,34.680171,0.0 139.453230,34.680204,0.0 139.453063,34.680237,0.0 139.452896,34.680269,0.0 139.452729,34.680301,0.0 139.452561,34.680331,0.0 139.452394,34.680360,0.0 139.452225,34.680389,0.0 139.452057,34.680417,0.0 139.451889,34.680443,0.0 139.451720,34.680469,0.0 139.451551,34.680494,0.0 139.451382,34.680519,0.0 139.451213,34.680542,0.0 139.451043,34.680564,0.0 139.450874,34.680586,0.0 139.450704,34.680606,0.0 139.450534,34.680626,0.0 139.427909,34.674545,0.0  139.427846,34.674496,0.0 139.427724,34.674397,0.0 139.427601,34.674297,0.0 139.427480,34.674197,0.0 139.427359,34.674096,0.0 139.427240,34.673995,0.0 139.427120,34.673893,0.0 139.427002,34.673790,0.0 139.426885,34.673687,0.0 139.426768,34.673583,0.0 139.426652,34.673479,0.0 139.426537,34.673373,0.0 139.426423,34.673268,0.0 139.426309,34.673162,0.0 139.426196,34.673055,0.0 139.426084,34.672947,0.0 139.425973,34.672839,0.0 139.425863,34.672731,0.0 139.425754,34.672621,0.0 139.425645,34.672512,0.0 139.425537,34.672401,0.0 139.425430,34.672291,0.0 139.425324,34.672179,0.0 139.425219,34.672067,0.0 139.425115,34.671955,0.0 139.425011,34.671842,0.0 139.424909,34.671728,0.0 139.424807,34.671614,0.0 139.424706,34.671499,0.0 139.424606,34.671384,0.0 139.424507,34.671268,0.0 139.424409,34.671152,0.0 139.424311,34.671036,0.0 139.424215,34.670918,0.0 139.424119,34.670801,0.0 139.424024,34.670683,0.0 139.423931,34.670564,0.0 139.423838,34.670445,0.0 139.423746,34.670325,0.0 139.423655,34.670205,0.0 139.423565,34.670084,0.0 139.423475,34.669963,0.0 139.423387,34.669842,0.0 139.423300,34.669720,0.0 139.423213,34.669597,0.0 139.423128,34.669474,0.0 139.423043,34.669351,0.0 139.422960,34.669227,0.0 139.422877,34.669103,0.0 139.422795,34.668979,0.0 139.422714,34.668854,0.0 139.422634,34.668728,0.0 139.422556,34.668602,0.0 139.422478,34.668476,0.0 139.422401,34.668349,0.0 139.422325,34.668222,0.0 139.422250,34.668095,0.0 139.422176,34.667967,0.0 139.422103,34.667839,0.0 139.422030,34.667710,0.0 139.421959,34.667581,0.0 139.421889,34.667452,0.0 139.421820,34.667322,0.0 139.421752,34.667192,0.0 139.421685,34.667061,0.0 139.421619,34.666931,0.0 139.421553,34.666800,0.0 139.421489,34.666668,0.0 139.421426,34.666536,0.0 139.421364,34.666404,0.0 139.421303,34.666272,0.0 139.421243,34.666139,0.0 139.421183,34.666006,0.0 139.421125,34.665873,0.0 139.421068,34.665739,0.0 139.421012,34.665605,0.0 139.420957,34.665471,0.0 139.420903,34.665336,0.0 139.420850,34.665202,0.0 139.420798,34.665066,0.0 139.420747,34.664931,0.0 139.420697,34.664795,0.0 139.420648,34.664660,0.0 139.420600,34.664524,0.0 139.420554,34.664387,0.0 139.420508,34.664251,0.0 139.420463,34.664114,0.0 139.420419,34.663977,0.0 139.420377,34.663839,0.0 139.420335,34.663702,0.0 139.420294,34.663564,0.0 139.420255,34.663426,0.0 139.420216,34.663288,0.0 139.420179,34.663150,0.0 139.420143,34.663011,0.0 139.420107,34.662873,0.0 139.420073,34.662734,0.0 139.420040,34.662595,0.0 139.420008,34.662455,0.0 139.419977,34.662316,0.0 139.419947,34.662176,0.0 139.419918,34.662037,0.0 139.419890,34.661897,0.0 139.419863,34.661757,0.0 139.419837,34.661617,0.0 139.419813,34.661476,0.0 139.419789,34.661336,0.0 139.419767,34.661196,0.0 139.419745,34.661055,0.0 139.419725,34.660914,0.0 139.419705,34.660773,0.0 139.419687,34.660632,0.0 139.419670,34.660491,0.0 139.419654,34.660350,0.0 139.419639,34.660209,0.0 139.419625,34.660068,0.0 139.419612,34.659927,0.0 139.419600,34.659785,0.0 139.419589,34.659644,0.0 139.419580,34.659502,0.0 139.419571,34.659361,0.0 139.419564,34.659219,0.0 139.419557,34.659077,0.0 139.419552,34.658936,0.0 139.419548,34.658794,0.0 139.419544,34.658652,0.0 139.419542,34.658511,0.0 139.419541,34.658369,0.0 139.419541,34.658227,0.0 139.419542,34.658085,0.0 139.419545,34.657944,0.0 139.419548,34.657802,0.0 139.419552,34.657660,0.0 139.419558,34.657519,0.0 139.419564,34.657377,0.0 139.419572,34.657235,0.0 139.419580,34.657094,0.0 139.419590,34.656952,0.0 139.419601,34.656811,0.0 139.419613,34.656669,0.0 139.419626,34.656528,0.0 139.419640,34.656387,0.0 139.419655,34.656246,0.0 139.419671,34.656105,0.0 139.419689,34.655963,0.0 139.419707,34.655823,0.0 139.419726,34.655682,0.0 139.419747,34.655541,0.0 139.419768,34.655400,0.0 139.419791,34.655260,0.0 139.419815,34.655120,0.0 139.419840,34.654979,0.0 139.419865,34.654839,0.0 139.419892,34.654699,0.0 139.419920,34.654559,0.0 139.419949,34.654420,0.0 139.419979,34.654280,0.0 139.420011,34.654141,0.0 139.420043,34.654001,0.0 139.420076,34.653862,0.0 139.420110,34.653724,0.0 139.420146,34.653585,0.0 139.420182,34.653446,0.0 139.420220,34.653308,0.0 139.420258,34.653170,0.0 139.420298,34.653032,0.0 139.420338,34.652894,0.0 139.420380,34.652757,0.0 139.420423,34.652620,0.0 139.420467,34.652483,0.0 139.420512,34.652346,0.0 139.420557,34.652209,0.0 139.420604,34.652073,0.0 139.420652,34.651937,0.0 139.420701,34.651801,0.0 139.420751,34.651665,0.0 139.420802,34.651530,0.0 139.420854,34.651395,0.0 139.420907,34.651260,0.0 139.420962,34.651126,0.0 139.421017,34.650991,0.0 139.421073,34.650858,0.0 139.421130,34.650724,0.0 139.421188,34.650591,0.0 139.421247,34.650458,0.0 139.421308,34.650325,0.0 139.421369,34.650192,0.0 139.421431,34.650060,0.0 139.421494,34.649929,0.0 139.421559,34.649797,0.0 139.421624,34.649666,0.0 139.421690,34.649535,0.0 139.421757,34.649405,0.0 139.421826,34.649275,0.0 139.421895,34.649145,0.0 139.421965,34.649016,0.0 139.422036,34.648887,0.0 139.422108,34.648758,0.0 139.422181,34.648630,0.0 139.422255,34.648502,0.0 139.422331,34.648375,0.0 139.422407,34.648248,0.0 139.422484,34.648121,0.0 139.422562,34.647995,0.0 139.422641,34.647869,0.0 139.422720,34.647744,0.0 139.422801,34.647619,0.0 139.422883,34.647494,0.0 139.422966,34.647370,0.0 139.423049,34.647246,0.0 139.423134,34.647123,0.0 139.423220,34.647000,0.0 139.423306,34.646878,0.0 139.423394,34.646756,0.0 139.423482,34.646634,0.0 139.423571,34.646513,0.0 139.423661,34.646393,0.0 139.423752,34.646273,0.0 139.423844,34.646153,0.0 139.423937,34.646034,0.0 139.424031,34.645915,0.0 139.424126,34.645797,0.0 139.424222,34.645679,0.0 139.424318,34.645562,0.0 139.424415,34.645446,0.0 139.424514,34.645329,0.0 139.424613,34.645214,0.0 139.424713,34.645099,0.0 139.424814,34.644984,0.0 139.424916,34.644870,0.0 139.425018,34.644756,0.0 139.425122,34.644643,0.0 139.425226,34.644531,0.0 139.425332,34.644419,0.0 139.425438,34.644308,0.0 139.425545,34.644197,0.0 139.425652,34.644087,0.0 139.425761,34.643977,0.0 139.425870,34.643868,0.0 139.425981,34.643759,0.0 139.426092,34.643651,0.0 139.426204,34.643544,0.0 139.426316,34.643437,0.0 139.426430,34.643331,0.0 139.426544,34.643225,0.0 139.426659,34.643120,0.0 139.426775,34.643016,0.0 139.426892,34.642912,0.0 139.427010,34.642809,0.0 139.427128,34.642706,0.0 139.427247,34.642604,0.0 139.427367,34.642503,0.0 139.427487,34.642402,0.0 139.427609,34.642302,0.0 139.427731,34.642202,0.0 139.427854,34.642103,0.0 139.427977,34.642005,0.0 139.428102,34.641908,0.0 139.428227,34.641811,0.0 139.428353,34.641714,0.0 139.428479,34.641619,0.0 139.428607,34.641524,0.0 139.428735,34.641429,0.0 139.428864,34.641336,0.0 139.428993,34.641243,0.0 139.429123,34.641151,0.0 139.429254,34.641059,0.0 139.429386,34.640968,0.0 139.429518,34.640878,0.0 139.429651,34.640788,0.0 139.429784,34.640699,0.0 139.429919,34.640611,0.0 139.430054,34.640524,0.0 139.430189,34.640437,0.0 139.430326,34.640351,0.0 139.430463,34.640266,0.0 139.430600,34.640181,0.0 139.430738,34.640097,0.0 139.430877,34.640014,0.0 139.431017,34.639932,0.0 139.431157,34.639850,0.0 139.431298,34.639769,0.0 139.431439,34.639689,0.0 139.431581,34.639609,0.0 139.431723,34.639530,0.0 139.431867,34.639452,0.0 139.432010,34.639375,0.0 139.432155,34.639298,0.0 139.432299,34.639222,0.0 139.432445,34.639147,0.0 139.432591,34.639073,0.0 139.432738,34.639000,0.0 139.432885,34.638927,0.0 139.433032,34.638855,0.0 139.433181,34.638784,0.0 139.433330,34.638713,0.0 139.433479,34.638643,0.0 139.433629,34.638575,0.0 139.433779,34.638506,0.0 139.433930,34.638439,0.0 139.434081,34.638372,0.0 139.434233,34.638307,0.0 139.434386,34.638242,0.0 139.434539,34.638178,0.0 139.434692,34.638114,0.0 139.434846,34.638052,0.0 139.435000,34.637990,0.0 139.435155,34.637929,0.0 139.435310,34.637869,0.0 139.435466,34.637809,0.0 139.435622,34.637751,0.0 139.435779,34.637693,0.0 139.435936,34.637636,0.0 139.436093,34.637580,0.0 139.436251,34.637524,0.0 139.436409,34.637470,0.0 139.436568,34.637416,0.0 139.436727,34.637363,0.0 139.436887,34.637311,0.0 139.437047,34.637260,0.0 139.437207,34.637210,0.0 139.437368,34.637160,0.0 139.437529,34.637112,0.0 139.437690,34.637064,0.0 139.437852,34.637017,0.0 139.438014,34.636971,0.0 139.438177,34.636925,0.0 139.438339,34.636881,0.0 139.438503,34.636837,0.0 139.438666,34.636795,0.0 139.438830,34.636753,0.0 139.438994,34.636712,0.0 139.439159,34.636671,0.0 139.439323,34.636632,0.0 139.439488,34.636594,0.0 139.439654,34.636556,0.0 139.439819,34.636519,0.0 139.439985,34.636483,0.0 139.440151,34.636448,0.0 139.440318,34.636414,0.0 139.440484,34.636381,0.0 139.440651,34.636348,0.0 139.440818,34.636317,0.0 139.440986,34.636286,0.0 139.441154,34.636256,0.0 139.441321,34.636227,0.0 139.441489,34.636199,0.0 139.441658,34.636172,0.0 139.441826,34.636145,0.0 139.441995,34.636120,0.0 139.442164,34.636095,0.0 139.442333,34.636071,0.0 139.442502,34.636049,0.0 139.442672,34.636027,0.0 139.442841,34.636006,0.0 139.443011,34.635985,0.0 139.443181,34.635966,0.0 139.443351,34.635948,0.0 139.443521,34.635930,0.0 139.443691,34.635913,0.0 139.443862,34.635898,0.0 139.444032,34.635883,0.0 139.444203,34.635869,0.0 139.444374,34.635856,0.0 139.444544,34.635843,0.0 139.444715,34.635832,0.0 139.444886,34.635821,0.0 139.445057,34.635812,0.0 139.445229,34.635803,0.0 139.445400,34.635795,0.0 139.445571,34.635789,0.0 139.445742,34.635783,0.0 139.445914,34.635777,0.0 139.446085,34.635773,0.0 139.446257,34.635770,0.0 139.446428,34.635767,0.0 139.446600,34.635766,0.0 139.446771,34.635765,0.0 139.446943,34.635765,0.0 139.447114,34.635766,0.0 139.447286,34.635768,0.0 139.447457,34.635771,0.0 139.447628,34.635775,0.0 139.447800,34.635780,0.0 139.447971,34.635785,0.0 139.448142,34.635792,0.0 139.448314,34.635799,0.0 139.448485,34.635807,0.0 139.448656,34.635817,0.0 139.448827,34.635827,0.0 139.448998,34.635838,0.0 139.449169,34.635849,0.0 139.449340,34.635862,0.0 139.449510,34.635876,0.0 139.449681,34.635890,0.0 139.449852,34.635905,0.0 139.450022,34.635922,0.0 139.450192,34.635939,0.0 139.450362,34.635957,0.0 139.450532,34.635976,0.0 139.450702,34.635995,0.0 139.450872,34.636016,0.0 139.451041,34.636038,0.0 139.451210,34.636060,0.0 139.451380,34.636083,0.0 139.451549,34.636107,0.0 139.451717,34.636132,0.0 139.451886,34.636158,0.0 139.452054,34.636185,0.0 139.452223,34.636213,0.0 139.452391,34.636241,0.0 139.452558,34.636271,0.0 139.452726,34.636301,0.0 139.452893,34.636332,0.0 139.453060,34.636364,0.0 139.453227,34.636397,0.0 139.453394,34.636431,0.0 139.453560,34.636466,0.0 139.453726,34.636501,0.0 139.453892,34.636537,0.0 139.454057,34.636575,0.0 139.454222,34.636613,0.0 139.454387,34.636652,0.0 139.454552,34.636691,0.0 139.454716,34.636732,0.0 139.454880,34.636774,0.0 139.455044,34.636816,0.0 139.455207,34.636859,0.0 139.455370,34.636903,0.0 139.455533,34.636948,0.0 139.455695,34.636994,0.0 139.455857,34.637040,0.0 139.456019,34.637088,0.0 139.456180,34.637136,0.0 139.456341,34.637185,0.0 139.456501,34.637235,0.0 139.456661,34.637286,0.0 139.456821,34.637337,0.0 139.456980,34.637390,0.0 139.457139,34.637443,0.0 139.457298,34.637497,0.0 139.457456,34.637552,0.0 139.457614,34.637608,0.0 139.457771,34.637664,0.0 139.457928,34.637722,0.0 139.458084,34.637780,0.0 139.458240,34.637839,0.0 139.458395,34.637899,0.0 139.458550,34.637959,0.0 139.458705,34.638021,0.0 139.458859,34.638083,0.0 139.459013,34.638146,0.0 139.459166,34.638209,0.0 139.459319,34.638274,0.0 139.459471,34.638339,0.0 139.459622,34.638406,0.0 139.459774,34.638473,0.0 139.459924,34.638540,0.0 139.460074,34.638609,0.0 139.460224,34.638678,0.0 139.460373,34.638748,0.0 139.460521,34.638819,0.0 139.460669,34.638891,0.0 139.460817,34.638963,0.0 139.460964,34.639036,0.0 139.461110,34.639110,0.0 139.461256,34.639185,0.0 139.461401,34.639260,0.0 139.461546,34.639336,0.0 139.461690,34.639413,0.0 139.461833,34.639491,0.0 139.461976,34.639570,0.0 139.462118,34.639649,0.0 139.462260,34.639729,0.0 139.462401,34.639809,0.0 139.462541,34.639891,0.0 139.462681,34.639973,0.0 139.462820,34.640056,0.0 139.462959,34.640139,0.0 139.463097,34.640223,0.0 139.463234,34.640308,0.0 139.463371,34.640394,0.0 139.463507,34.640480,0.0 139.463642,34.640568,0.0 139.463776,34.640655,0.0 139.463910,34.640744,0.0 139.464044,34.640833,0.0 139.464176,34.640923,0.0 139.464308,34.641013,0.0 139.464439,34.641105,0.0 139.464570,34.641197,0.0 139.464700,34.641289,0.0 139.464829,34.641383,0.0 139.464957,34.641477,0.0 139.465085,34.641571,0.0 139.465212,34.641666,0.0 139.465338,34.641762,0.0 139.465464,34.641859,0.0 139.465588,34.641956,0.0 139.465712,34.642054,0.0 139.465836,34.642153,0.0 139.465958,34.642252,0.0 139.466080,34.642352,0.0 139.466201,34.642452,0.0 139.466321,34.642553,0.0 139.466441,34.642655,0.0 139.466559,34.642757,0.0 139.466677,34.642860,0.0 139.466794,34.642964,0.0 139.466911,34.643068,0.0 139.467026,34.643173,0.0 139.467141,34.643278,0.0 139.467255,34.643384,0.0 139.467368,34.643490,0.0 139.467480,34.643597,0.0 139.467592,34.643705,0.0 139.467703,34.643813,0.0 139.467812,34.643922,0.0 139.467922,34.644032,0.0 139.468030,34.644142,0.0 139.468137,34.644252,0.0 139.468244,34.644363,0.0 139.468349,34.644475,0.0 139.468454,34.644587,0.0 139.468558,34.644700,0.0 139.468661,34.644813,0.0 139.468763,34.644927,0.0 139.468865,34.645041,0.0 139.468965,34.645156,0.0 139.469065,34.645272,0.0 139.469163,34.645387,0.0 139.469261,34.645504,0.0 139.469358,34.645621,0.0 139.469454,34.645738,0.0 139.469550,34.645856,0.0 139.469644,34.645974,0.0 139.469737,34.646093,0.0 139.469830,34.646213,0.0 139.469921,34.646333,0.0 139.470012,34.646453,0.0 139.470102,34.646574,0.0 139.470190,34.646695,0.0 139.470278,34.646817,0.0 139.470365,34.646939,0.0 139.470451,34.647061,0.0 139.470536,34.647185,0.0 139.470620,34.647308,0.0 139.470704,34.647432,0.0 139.470786,34.647556,0.0 139.470867,34.647681,0.0 139.470948,34.647806,0.0 139.471027,34.647932,0.0 139.471106,34.648058,0.0 139.471183,34.648184,0.0 139.471260,34.648311,0.0 139.471335,34.648439,0.0 139.471410,34.648566,0.0 139.471483,34.648694,0.0 139.471556,34.648823,0.0 139.471628,34.648951,0.0 139.471698,34.649081,0.0 139.471768,34.649210,0.0 139.471837,34.649340,0.0 139.471904,34.649470,0.0 139.471971,34.649601,0.0 139.472037,34.649732,0.0 139.472102,34.649863,0.0 139.472165,34.649994,0.0 139.472228,34.650126,0.0 139.472290,34.650259,0.0 139.472351,34.650391,0.0 139.472410,34.650524,0.0 139.472469,34.650657,0.0 139.472527,34.650791,0.0 139.472583,34.650924,0.0 139.472639,34.651059,0.0 139.472694,34.651193,0.0 139.472747,34.651328,0.0 139.472800,34.651462,0.0 139.472851,34.651598,0.0 139.472902,34.651733,0.0 139.472951,34.651869,0.0 139.473000,34.652005,0.0 139.473047,34.652141,0.0 139.473094,34.652277,0.0 139.473139,34.652414,0.0 139.473183,34.652551,0.0 139.473227,34.652688,0.0 139.473269,34.652826,0.0 139.473310,34.652963,0.0 139.473350,34.653101,0.0 139.473389,34.653239,0.0 139.473427,34.653377,0.0 139.473464,34.653516,0.0 139.473500,34.653654,0.0 139.473535,34.653793,0.0 139.473569,34.653932,0.0 139.473602,34.654071,0.0 139.473633,34.654210,0.0 139.473664,34.654350,0.0 139.473693,34.654489,0.0 139.473722,34.654629,0.0 139.473749,34.654769,0.0 139.473776,34.654909,0.0 139.473801,34.655049,0.0 139.473825,34.655190,0.0 139.473848,34.655330,0.0 139.473871,34.655471,0.0 139.473892,34.655611,0.0 139.473911,34.655752,0.0 139.473930,34.655893,0.0 139.473948,34.656034,0.0 139.473965,34.656175,0.0 139.473981,34.656316,0.0 139.473995,34.656457,0.0 139.474009,34.656599,0.0 139.474021,34.656740,0.0 139.474033,34.656882,0.0 139.474043,34.657023,0.0 139.474052,34.657165,0.0 139.474060,34.657306,0.0 139.474067,34.657448,0.0 139.474073,34.657589,0.0 139.474078,34.657731,0.0 139.474082,34.657873,0.0 139.474085,34.658014,0.0 139.474086,34.658156,0.0 139.474087,34.658298,0.0'

class Output_Kml:

    def __init__(self):

        self.kml = simplekml.Kml()
        self.oshima_sea = self.kml.newfolder(name='伊豆大島共同打上実験_海打ち')
        self.drop_distribution = self.oshima_sea.newfolder(name='落下分散')
        self.free_fall = self.drop_distribution.newfolder(name='弾道落下')
        self.parachute = self.drop_distribution.newfolder(name='減速落下')

        self.STYLE1 = simplekml.Style()
        self.STYLE1.linestyle.width = 2
        self.STYLE1.linestyle.color = 'ff0000ff'

        self.STYLE2 = simplekml.Style()
        self.STYLE2.linestyle.width = 2
        self.STYLE2.linestyle.color = 'ffffffff'
        self.STYLE2.polystyle.color = '7dff0000'


    def get_coords(self, path_results):

        path_Summaries = Path(path_results) / 'Summaries_History'
        path_Copy_Setting = Path(path_results) / 'Copy_Setting'

        Constants = Constants_Class_from_Copy_Setting(path_Copy_Setting)

        WIND_STD_INIT = Constants.wind()['Power_law']['Wind_STD_Init']
        INTERVAL_WIND_STD = Constants.wind()['Power_law']['Interval_Wind_STD']
        VARIATION_WIND_STD = int(Constants.wind()['Power_law']['Variation_Wind_STD'])
        WIND_AZIMUTH_INIT = Constants.wind()['Power_law']['Wind_Azimuth_Init']
        VARIATION_WIND_AZIMUTH = int(Constants.wind()['Power_law']['Variation_Wind_Azimuth'])


        if WIND_STD_INIT == 0.0 and VARIATION_WIND_AZIMUTH != 1:

            wind_ang_list = list(product(np.arange(WIND_STD_INIT + INTERVAL_WIND_STD, WIND_STD_INIT + VARIATION_WIND_STD * INTERVAL_WIND_STD, INTERVAL_WIND_STD), np.linspace(WIND_AZIMUTH_INIT, 360, VARIATION_WIND_AZIMUTH + 1)[:-1]))
            wind_ang_list.insert(0, (0.0, float(WIND_AZIMUTH_INIT)))

        else:

            wind_ang_list = list(product(np.arange(WIND_STD_INIT, WIND_STD_INIT + VARIATION_WIND_STD * INTERVAL_WIND_STD, INTERVAL_WIND_STD), np.linspace(WIND_AZIMUTH_INIT, 360, VARIATION_WIND_AZIMUTH + 1)[:-1]))

        wind_array = np.array([wind for wind, _ in wind_ang_list])
        wind_set = list(set(wind_array))

        dfs = [pd.read_excel((path_Summaries / f'Summary_wind_{wind}_ang_{ang}.xlsx').as_posix(), sheet_name='Landing') for wind, ang in wind_ang_list]
        coords_landing = np.array([list(zip(df['longitude'], df['latitude'], [0.0]))[0] for df in dfs])
        coords_landing_dict = {wind : coords_landing[wind_array == wind] for wind in wind_set}

        return{'wind_set' : wind_set, 'coords_landing_dict' : coords_landing_dict}


    def plot_safety_zone(self):

        launcher = self.oshima_sea.newpoint(name='ロンチャ',
                                            coords=[(139.438373, 34.679730, 0)])

        circle = self.oshima_sea.newlinestring(name='警戒区域',
                                                coords=[tuple(coord.split(',')) for coord in coordinates_circle.split()])
        circle.style = self.STYLE1

        safety_area = self.oshima_sea.newpolygon(name='落下可能域',
                                                outerboundaryis=[tuple(coord.split(',')) for coord in coordinates_safety_area.split()])
        safety_area.style = self.STYLE2


    def plot_drop_distribution_free_fall(self, path_results, launcher_angle, cmap='Oranges'):

        wind_set = np.sort(np.array(self.get_coords(path_results)['wind_set']))
        coords_landing_dict = self.get_coords(path_results)['coords_landing_dict']

        cmap = plt.get_cmap(cmap)
        colors = [simplekml.Color.rgb(*(np.array([*cmap(t)][:3])*255).astype(int)) for t in np.linspace(0.1, 0.9, len(wind_set))]


        drop_distribution = self.free_fall.newfolder(name=f'{launcher_angle} deg')

        for i in range(len(wind_set)):
            ls = drop_distribution.newlinestring(name=f'{wind_set[i]}', coords=np.append(coords_landing_dict[wind_set[i]], [coords_landing_dict[wind_set[i]][0]], axis=0))
            ls.style.linestyle.width = 1.5
            ls.style.linestyle.color = colors[i]


    def plot_drop_distribution_parachute(self, path_results, launcher_angle, cmap='spring'):

        wind_set = np.sort(np.array(self.get_coords(path_results)['wind_set']))
        coords_landing_dict = self.get_coords(path_results)['coords_landing_dict']

        cmap = plt.get_cmap(cmap)
        colors = [simplekml.Color.rgb(*(np.array([*cmap(t)][:3])*255).astype(int)) for t in np.linspace(0.1, 0.9, len(wind_set))]


        drop_distribution = self.parachute.newfolder(name=f'{launcher_angle} deg')

        for i in range(len(wind_set)):
            ls = drop_distribution.newlinestring(name=f'{wind_set[i]}', coords=np.append(coords_landing_dict[wind_set[i]], [coords_landing_dict[wind_set[i]][0]], axis=0))
            ls.style.linestyle.width = 1.5
            ls.style.linestyle.color = colors[i]


    def save(self, path_results, file_name):
        path_output_kml = Path(path_results) / 'Drop_Distribution_kml' / f'{file_name}.kml'
        self.kml.save(path_output_kml.as_posix())



Test = Output_Kml()
Test.plot_safety_zone()

Test.plot_drop_distribution_free_fall(r'C:\Users\genia\00_Oshima\4_Results\2024-0229-170643_70_np_nc_CFD', 70)
Test.plot_drop_distribution_free_fall(r'C:\Users\genia\00_Oshima\4_Results\2024-0229-170131_68_np_nc_CFD', 68)
Test.plot_drop_distribution_free_fall(r'C:\Users\genia\00_Oshima\4_Results\2024-0229-171216_72_np_nc_CFD', 72)

Test.plot_drop_distribution_parachute(r'C:\Users\genia\00_Oshima\4_Results\2024-0229-172140_70_p_nc_CFD', 70)
Test.plot_drop_distribution_parachute(r'C:\Users\genia\00_Oshima\4_Results\2024-0229-171821_68_p_nc_CFD', 68)
Test.plot_drop_distribution_parachute(r'C:\Users\genia\00_Oshima\4_Results\2024-0229-172903_72_p_nc_CFD', 72)

Test.save(r'C:\Users\genia\00_Oshima\4_Results\2024-0229-172903_72_p_nc_CFD', 'Drop_Distributions_CFD')
